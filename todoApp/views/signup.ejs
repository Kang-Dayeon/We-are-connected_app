<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
  <link rel="stylesheet" href="./public/main.css">

</head>

<body>
  <%- include('nav.html') %>

    <!-- 가입창 -->
    <div class="container-md mt-5">
      <form action="/register" method="POST">
        <!-- post 요청 방법 -->
        <legend class="fs-2 fw-bold text-success mb-3">Sign up</legend>
        <div class="mb-3">
          <input placeholder="What's you name?" type="text" class="form-control shadow-sm bg-body rounded"
            id="exampleInputEmail1" aria-describedby="emailHelp" name="name" maxlength="10">
        </div>
        <div class="mb-3">
          <input placeholder="ID" type="text" class="form-control shadow-sm bg-body rounded id-input"
            id="exampleInputEmail1" aria-describedby="emailHelp" name="id">
          <span class="error-message">소문자와 숫자를 조합하여 5~10자로 구성하세요.</span>
        </div>
        <div class="mb-3">
          <input type="password" placeholder="Password" class="form-control bg-body rounded p-2 pw-input"
            id="exampleFormControlTextarea1" name="pw"></input>
          <span class="error-message">문자와 숫자, 특수문자를 조합하여 6~24자로 구성하세요.</span>
        </div>
        <button type="submit" class="btn btn-success">Sign up</button>
      </form>
    </div>

    <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->

    <!-- main.js -->
    <!-- <script src="./../js/main.js"></script> -->
    <script>
      // 회원가입시 에러메세지 띄우기
      const CHECK_ID = /[a-zA-Z]/;
      const CHECK_PW = /[0-9a-zA-Z])[#?!@$%^&*-].{6,24}/;


      let idVal = document.querySelector('id-input').value();
      let pwVal = document.querySelector('.pw-input').value();

      document.querySelector('form-control').addEventListener('input', function () {
        alert("dd")
      });
      $(document).ready(function () {
        alert("작동?")



        $('.form-control').on("propertychange chenge paste input", function () {
          if (CHECK_ID.test(idVal) == false) {
            idVal.addClass('error');
            alert("error")
          };
          if (CHECK_PW.test(pwVal) == false) {
            pwVal.addClass('error');
          };
        });

      })

    </script>

    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
      crossorigin="anonymous"></script>


</body>

</html>